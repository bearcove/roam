[package]
name = "roam-telemetry"
version.workspace = true
edition.workspace = true
rust-version.workspace = true
license.workspace = true
repository.workspace = true
description = "Lightweight OTLP telemetry for roam RPC"

[package.metadata]

[package.metadata."docs.rs"]
rustdoc-args = ["--html-in-header", "arborium-header.html"]

[features]
default = ["native-tls"]
native-tls = ["reqwest/native-tls"]
rustls-tls = ["reqwest/rustls-tls"]

[dependencies]
# Roam
roam-core = { workspace = true }
roam-types = { workspace = true }

# Facet for JSON serialization and pretty printing
facet = { workspace = true }
facet-json = { workspace = true }
facet-pretty = { workspace = true }

# HTTP client
reqwest = { version = "0.12", default-features = false, features = ["json"] }

# Async runtime
tokio = { workspace = true, features = ["sync", "time", "rt"] }
moire.workspace = true

# Utilities
rand = "0.9"
tracing = { workspace = true }

[dev-dependencies]
tokio = { workspace = true, features = ["rt-multi-thread", "macros"] }
roam = { workspace = true }
roam-stream = { workspace = true }
tracing-subscriber = { workspace = true, features = ["env-filter"] }
